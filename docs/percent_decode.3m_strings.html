<html> 
<head> 
<title> </title>
<style> 
px {font-family: "Lucida Console", Monaco, monospace }
p { font-size:100%; line-height:1.1em; }
body {xfont-style: sans-serif}
body {
color:#333; font-family:Verdana, Arial, Helvetica, sans-serif; font-size:1em; line-height:1.3em; }
a:visited { color:#666; }
h1,h2,h3,h4,h5,h6 { color:#333; font-family:georgia, verdana, sans-serif; }
h1 { font-size:150%; page-break-before:auto;background-color: #aaaaff}
h2 { font-size:143%;color:teal; }
h3 { font-size:134%;color:blue; }
h4 { font-size:120%;color:gray; }
img { max-width: 55em}
p{ padding: 0;margin:0; }
p{ padding-right:1.4em; }
p{ padding-bottom:0.1em; }
p{ padding-top:1em; }
p{ whitespace: pre-wrap; }
h5,h6 { font-size:100% }
a.nav,a:link.nav, a:visited.nav { background-color:#FFF; color:#000; }
XXtable { border:double #000; border-collapse:collapse; }
XXtable { border-collapse:collapse; }
XXtd { border:thin solid #888; }
XXtd { border:none; }
li { margin-bottom:0.5em; }
blockquote { display:block; font-size:100%; line-height:1.1em; margin:0 0 0.5em; padding:0 2.5em; }
pre { background-color:#DDD; font-size:100%; overflow:auto; padding:1em; }
a,li span { color:#000; }
a:hover, a.nav:hover, a:hover math { background-color:#000; color:#FFF; }
#Container { margin:0 10px; text-align:center; background-color: #BBB}
#Content { border-top:none; margin:auto; padding:0.3em; text-align:left; width:100%; max-width:55em; background:#FFF}
span.webName { font-size:.5em; }
textarea#content { font-size: 1em; line-height: 1.125; }
h1#pageName { line-height:1em; margin:0.2em 0 0.2em 0; padding:0; }
.property { color:#666; font-size:100%; }
a.existingWikiWord[title]{ //border: 1px dashed #BBB; }
.byline { color:#666; font-size:1.0em; font-style:italic; margin-bottom:1em; padding-top:1px; } 
</style> 
</head>
<BODY bgcolor=#F0F0F0 text=#000000 link=#0000ff vlink=#C000C0 alink=#ff0000><A NAME=top></A>
<!--
<h5><a href="index.html">[UP]</a></h5>
<button type="button" onclick="javascript:history.back()">Back</button>
-->
<div id="Container">
<div id="Content">
<CENTER>
<H1><HR><I>C Library Functions &nbsp;-&nbsp;</I><NOBR>percent_decode (3)</NOBR><HR></H1>
</CENTER>
<A name=0>

     <H3>NAME</H3>

</A>
<BLOCKQUOTE>
percent_decode(3f) - [M_strings:ENCODE] percent-decode strings and
character arrays
(LICENSE:ISC)
<P>
</BLOCKQUOTE>
<A name=contents></A><H3>CONTENTS</H3></A>
<BLOCKQUOTE>
<A HREF=#1>Synopsis</A><BR>
<A HREF=#2>Description</A><BR>
<A HREF=#3>Options</A><BR>
<A HREF=#4>Returns</A><BR>
<A HREF=#5>Examples</A><BR>
<A HREF=#6>Author</A><BR>
</BLOCKQUOTE>
<A name=7>

     <H3>SYNOPSIS</H3>

</A>
<BLOCKQUOTE>
<P>
function percent_decode(text,exit_code)
<P>
<PRE>
     character(len=1),intent(in)  :: text(:)
     integer,optional,intent(out) :: exit_code
     character(len=:),allocatable :: percent_decode
<P>
</PRE>
or
<P>
function percent_decode(text,exit_code)
<P>
<PRE>
     character(len=*),intent(in)  :: text
     integer,optional,intent(out) :: exit_code
     character(len=:),allocatable :: percent_decode
<P>
</PRE>
</BLOCKQUOTE>
<A name=2>

     <H3>DESCRIPTION</H3>

</A>
<BLOCKQUOTE>
<P>
percent_decode(3f) percent-decodes percent-encoded strings or character
arrays.
<P>
URI containing spaces or most other non-alphanumeric characters must
be encoded using percent encoding (aka. URL encoding). This procedure
unwinds the encryption.
<P>
The characters allowed in a URI are either reserved or unreserved
(or a percent character as part of a percent-encoding). Reserved
characters are those characters that sometimes have special meaning,
while unreserved characters have no such meaning. Using percent-encoding,
characters which otherwise would not be allowed are represented using
allowed characters. The sets of reserved and unreserved characters and
the circumstances under which certain reserved characters have special
meaning have changed slightly with each revision of specifications that
govern URIs and URI schemes.
<P>
According to RFC 3986, the characters in a URL have to be taken from
a defined set of unreserved and reserved ASCII characters. Any other
characters are not allowed in a URL.
<P>
The unreserved characters can be encoded, but should not be. The
unreserved characters are:
<P>
<PRE>
      &gt; ABCDEFGHIJKLMNOPQRSTUVWXYZ
      &gt; abcdefghijklmnopqrstuvwxyz
      &gt; 0123456789-_.~
<P>
</PRE>
The reserved characters have to be encoded only under certain
circumstances. The reserved characters are:
<P>
<PRE>
      &gt;  * &#146; ( ) ; : @ & = + $ , / ? % # [ ]
<P>
</PRE>
</BLOCKQUOTE>
<A name=3>

     <H3>OPTIONS</H3>

</A>
<BLOCKQUOTE>
<TABLE cellpadding=3>
<TR valign=top><TD colspan=2>
<B>SOURCE_STRING</B> </TD></TR><TR valign=top><TD width=6%>&nbsp;</TD><TD>
string or character array to decode
</TD></TR>
<TR valign=top><TD colspan=2>
<B>EXIT_CODE</B> </TD></TR><TR valign=top><TD width=6%>&nbsp;</TD><TD>
non-zero if decoding failed
</TD></TR>
<TR></TR></TABLE></BLOCKQUOTE>
<A name=4>

     <H3>RETURNS</H3>

</A>
<BLOCKQUOTE>
<TABLE cellpadding=3>
<TR valign=top><TD colspan=2>
<B>percent_decode</B> </TD></TR><TR valign=top><TD width=6%>&nbsp;</TD><TD>
a string holding a percent-decoded copy of the input
</TD></TR>
<TR></TR></TABLE></BLOCKQUOTE>
<A name=5>

     <H3>EXAMPLES</H3>

</A>
<BLOCKQUOTE>
Sample program:
<P>
<PRE>
      program demo_percent_decode
      use M_strings, only : percent_encode, percent_decode
      implicit none
      character(len=:),allocatable :: input,output
      character(len=*),parameter   :: see=&#146;(g0,*("""",g0,"""":))&#146;
      character(len=*),parameter   :: expected=&#146;&
      &%01%02%03%04%05%06%07%08%09%0A%0B%0C%0D%0E%0F%10%11%12%13%14%15%&
      &16%17%18%19%1A%1B%1C%1D%1E%1F%20%21%22%23%24%25%26%27%28%29%2A%2&
      &B%2C-.%2F0123456789%3A%3B%3C%3D%3E%3F%40ABCDEFGHIJKLMNOPQRSTUVWX&
      &YZ%5B%5C%5D%5E_%60abcdefghijklmnopqrstuvwxyz%7B%7C%7D~%7F%80%81%&
      &82%83%84%85%86%87%88%89%8A%8B%8C%8D%8E%8F%90%91%92%93%94%95%96%9&
      &7%98%99%9A%9B%9C%9D%9E%9F%A0%A1%A2%A3%A4%A5%A6%A7%A8%A9%AA%AB%AC&
      &%AD%AE%AF%B0%B1%B2%B3%B4%B5%B6%B7%B8%B9%BA%BB%BC%BD%BE%BF%C0%C1%&
      &C2%C3%C4%C5%C6%C7%C8%C9%CA%CB%CC%CD%CE%CF%D0%D1%D2%D3%D4%D5%D6%D&
      &7%D8%D9%DA%DB%DC%DD%DE%DF%E0%E1%E2%E3%E4%E5%E6%E7%E8%E9%EA%EB%EC&
      &%ED%EE%EF%F0%F1%F2%F3%F4%F5%F6%F7%F8%F9%FA%FB%FC%FD%FE%FF%20&#146;
      integer                      :: j
         input=&#146;[this is a string]&#146;
         write(*,see)&#146;INPUT=&#146;,input
         output=percent_encode(input)
         write(*,see)&#146;ENCODED=&#146;,output
         output=percent_decode(output)
         write(*,see)&#146;DECODED=&#146;,output
         input=repeat(&#146; &#146;,256)
         do j=0,255
               input(j:j)=char(j)
         enddo
         output=percent_encode(input)
         write(*,*)&#146;ENCODING PASSED:&#146;,output==expected
         output=percent_decode(output)
         write(*,*)&#146;DECODING PASSED:&#146;,input == output
      end program demo_percent_decode
<P>
</PRE>
Results:
<P>
<PRE>
    &gt; INPUT="[this is a string]"
    &gt; ENCODED="%5Bthis%20is%20a%20string%5D"
    &gt; DECODED="[this is a string]"
    &gt;  ENCODING PASSED: T
    &gt;  DECODING PASSED: T
<P>
</PRE>
</BLOCKQUOTE>
<A name=6>

     <H3>AUTHOR</H3>

</A>
<BLOCKQUOTE>
<TABLE cellpadding=3>
<TR valign=top><TD width=3%>
o
</TD><TD>
based on dm_cgi_encode.f90, Copyright (c) 2023, Philipp Engel
</TD></TR>
<TR valign=top><TD width=3%>
o
</TD><TD>
Modified to be more aligned with percent_encode(3f), John S. Urban, 2024
</TD></TR>
<TR></TR></TABLE></BLOCKQUOTE>
<P><HR>
<TABLE width=100%><TR> <TD width=33%><I>Nemo Release 3.1</I></TD> <TD width=33% align=center>percent_decode (3)</TD> <TD align=right width=33%><I>February 23, 2025</I></TD> </TR></TABLE><FONT SIZE=-1>Generated by <A HREF="http://www.squarebox.co.uk/download/manServer.shtml">manServer 1.08</A> from 4cef10b5-b13a-4b04-a3f7-aba7031be766 using man macros.</FONT>
<br><br><center><img src="images/percent_decode.3m_strings.gif"></center>
</div>
</div>
</body>
</HTML>
