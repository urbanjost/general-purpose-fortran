<html> 
<head> 
<title> </title>
<style> 
px {font-family: "Lucida Console", Monaco, monospace }
p { font-size:100%; line-height:1.1em; }
body {xfont-style: sans-serif}
body {
color:#333; font-family:Verdana, Arial, Helvetica, sans-serif; font-size:1em; line-height:1.3em; }
a:visited { color:#666; }
h1,h2,h3,h4,h5,h6 { color:#333; font-family:georgia, verdana, sans-serif; }
h1 { font-size:150%; page-break-before:auto;background-color: #aaaaff}
h2 { font-size:143%;color:teal; }
h3 { font-size:134%;color:blue; }
h4 { font-size:120%;color:gray; }
img { max-width: 55em}
p{ padding: 0;margin:0; }
p{ padding-right:1.4em; }
p{ padding-bottom:0.1em; }
p{ padding-top:1em; }
p{ whitespace: pre-wrap; }
h5,h6 { font-size:100% }
a.nav,a:link.nav, a:visited.nav { background-color:#FFF; color:#000; }
XXtable { border:double #000; border-collapse:collapse; }
XXtable { border-collapse:collapse; }
XXtd { border:thin solid #888; }
XXtd { border:none; }
li { margin-bottom:0.5em; }
blockquote { display:block; font-size:100%; line-height:1.1em; margin:0 0 0.5em; padding:0 2.5em; }
pre { background-color:#DDD; font-size:100%; overflow:auto; padding:1em; }
a,li span { color:#000; }
a:hover, a.nav:hover, a:hover math { background-color:#000; color:#FFF; }
#Container { margin:0 10px; text-align:center; background-color: #BBB}
#Content { border-top:none; margin:auto; padding:0.3em; text-align:left; width:100%; max-width:55em; background:#FFF}
span.webName { font-size:.5em; }
textarea#content { font-size: 1em; line-height: 1.125; }
h1#pageName { line-height:1em; margin:0.2em 0 0.2em 0; padding:0; }
.property { color:#666; font-size:100%; }
a.existingWikiWord[title]{ //border: 1px dashed #BBB; }
.byline { color:#666; font-size:1.0em; font-style:italic; margin-bottom:1em; padding-top:1px; } 
</style> 
</head>
<BODY bgcolor=#F0F0F0 text=#000000 link=#0000ff vlink=#C000C0 alink=#ff0000><A NAME=top></A>
<!--
<h5><a href="index.html">[UP]</a></h5>
<button type="button" onclick="javascript:history.back()">Back</button>
-->
<div id="Container">
<div id="Content">
<CENTER>
<H1><HR><I>C Library Functions &nbsp;-&nbsp;</I><NOBR>dshiftr (3)</NOBR><HR></H1>
</CENTER>
<P>
<A name=0>

     <H3>NAME</H3>

</A>
<BLOCKQUOTE>
<P>
DSHIFTR(3) - [BIT:COPY] Combined right shift of the bits of two integers
<P>
</BLOCKQUOTE>
<BLOCKQUOTE>
</BLOCKQUOTE>
<A name=10>

     <H3>SYNOPSIS</H3>

</A>
<BLOCKQUOTE>
<P>
result = dshiftr(i, j, shift)
<P>
<PRE>
         elemental integer(kind=KIND) function dshiftr(i, j, shift)
<P>
          integer(kind=KIND),intent(in) :: i
          integer(kind=KIND),intent(in) :: j
          integer(kind=**),intent(in) :: shift
<P>
</PRE>
</BLOCKQUOTE>
<A name=2>

     <H3>CHARACTERISTICS</H3>

</A>
<BLOCKQUOTE>
<P>
<TABLE cellpadding=3>
<TR valign=top><TD width=3%>
o
</TD><TD>
a kind designated as ** may be any kind value for the integer type
</TD></TR>
<TR valign=top><TD width=3%>
o
</TD><TD>
the kind of I, J, and the return value are the same. An exception is
that one of I and J may be a BOZ literal constant (A BOZ literal
constant is a binary, octal or hex constant).
</TD></TR>
<TR valign=top><TD width=3%>
o
</TD><TD>
If either I or J is a BOZ-literal-constant, it is first converted as
if by the intrinsic function INT(3) to type integer with the kind
type parameter of the other.
</TD></TR>
<TR></TR></TABLE></BLOCKQUOTE>
<A name=3>

     <H3>DESCRIPTION</H3>

</A>
<BLOCKQUOTE>
<P>
DSHIFTR(3) combines bits of I and J. The leftmost SHIFT bits of the
result are the rightmost SHIFT bits of I, and the remaining bits are the
leftmost bits of J.
<P>
It may be thought of as appending the bits of I and J, dropping off the
SHIFT rightmost bits, and then retaining the same number of rightmost
bits as an input value, hence the name "combined right shift"&#46;&#46;&#46;
<P>
Given two 16-bit values labeled alphabetically &#46;&#46;&#46;
<P>
<PRE>
       i=ABCDEFGHIJKLMNOP
       j=abcdefghijklmnop
<P>
</PRE>
Append them together
<P>
<PRE>
       ABCDEFGHIJKLMNOPabcdefghijklmnop
<P>
</PRE>
Shift them N=6 bits to the right dropping off bits
<P>
<PRE>
             ABCDEFGHIJKLMNOPabcdefghij
<P>
</PRE>
Keep the 16 right-most bits
<P>
<PRE>
                       KLMNOPabcdefghij
<P>
</PRE>
</BLOCKQUOTE>
<A name=4>

     <H3>NOTE</H3>

</A>
<BLOCKQUOTE>
<P>
DSHIFR(I,J,SHIFT) is equivalent to
<P>
<PRE>
         ior(shiftl (i, bit_size(i) - shift), shiftr(j, shift) )
<P>
</PRE>
it can also be seen that if I and J have the same value
<P>
<PRE>
         dshiftr( i, i, shift )
<P>
</PRE>
this has the same result as a negative circular shift
<P>
<PRE>
         ishftc( i,  -shift ).
<P>
</PRE>
</BLOCKQUOTE>
<A name=5>

     <H3>OPTIONS</H3>

</A>
<BLOCKQUOTE>
<P>
<TABLE cellpadding=3>
<TR valign=top><TD width=3%>
o
</TD><TD>
I : left value of the pair of values to be combine-shifted right
</TD></TR>
<TR valign=top><TD width=3%>
o
</TD><TD>
J : right value of the pair of values to be combine-shifted right
</TD></TR>
<TR valign=top><TD width=3%>
o
</TD><TD>
SHIFT : the shift value is non-negative and less than or equal to
the number of bits in an input value as can be computed by
BIT_SIZE(3).
</TD></TR>
<TR></TR></TABLE></BLOCKQUOTE>
<A name=6>

     <H3>RESULT</H3>

</A>
<BLOCKQUOTE>
<P>
The result is a combined right shift of I and J that is the same as the
bit patterns of the inputs being combined left to right, dropping off
SHIFT bits on the right and then retaining the same number of bits as an
input value from the rightmost bits.
</BLOCKQUOTE>
<A name=7>

     <H3>EXAMPLES</H3>

</A>
<BLOCKQUOTE>
<P>
Sample program:
<P>
<PRE>
    program demo_dshiftr
    use,intrinsic :: iso_fortran_env, only : int8, int16, int32, int64
    implicit none
    integer(kind=int32) :: i, j
    integer             :: shift
<P>
      ! basic usage
       write(*,*) dshiftr (1, 2**30, 2)
<P>
      ! print some calls as binary to better visualize the results
       i=-1
       j=0
       shift=5
<P>
       ! print values
        write(*,&#146;(*(g0))&#146;)&#146;I=&#146;,i,&#146; J=&#146;,j,&#146; SHIFT=&#146;,shift
        write(*,&#146;(b32.32)&#146;) i,j, dshiftr (i, j, shift)
<P>
      ! visualizing a "combined right shift" &#46;&#46;&#46;
       i=int(b"00000000000000000000000000011111")
       j=int(b"11111111111111111111111111100000")
       ! appended together ( i//j )
       ! 0000000000000000000000000001111111111111111111111111111111100000
       ! shifted right SHIFT values dropping off shifted values
       !      00000000000000000000000000011111111111111111111111111111111
       ! keep enough rightmost bits to fill the kind
       !                                 11111111111111111111111111111111
       ! so the result should be all 1s bits &#46;&#46;&#46;
<P>
        write(*,&#146;(*(g0))&#146;)&#146;I=&#146;,i,&#146; J=&#146;,j,&#146; SHIFT=&#146;,shift
        write(*,&#146;(b32.32)&#146;) i,j, dshiftr (i, j, shift)
<P>
    end program demo_dshiftr
<P>
</PRE>
Results:
<P>
<PRE>
     &gt;    1342177280
     &gt;  I=-1 J=0 SHIFT=5
     &gt;  11111111111111111111111111111111
     &gt;  00000000000000000000000000000000
     &gt;  11111000000000000000000000000000
     &gt;  I=31 J=-32 SHIFT=5
     &gt;  00000000000000000000000000011111
     &gt;  11111111111111111111111111100000
     &gt;  11111111111111111111111111111111
<P>
</PRE>
</BLOCKQUOTE>
<A name=8>

     <H3>STANDARD</H3>

</A>
<BLOCKQUOTE>
<P>
Fortran 2008
</BLOCKQUOTE>
<A name=9>

     <H3>SEE ALSO</H3>

</A>
<BLOCKQUOTE>
<P>
DSHIFTL(3)
<P>
Fortran intrinsic descriptions (license: MIT) @urbanjost
</BLOCKQUOTE>
<P><HR>
<TABLE width=100%><TR> <TD width=33%><I>Nemo Release 3.1</I></TD> <TD width=33% align=center>dshiftr (3)</TD> <TD align=right width=33%><I>December 14, 2024</I></TD> </TR></TABLE><FONT SIZE=-1>Generated by <A HREF="http://www.squarebox.co.uk/download/manServer.shtml">manServer 1.08</A> from ea2172af-e317-4a22-80c6-972e31f88853 using man macros.</FONT>
<br><br><center><img src="images/dshiftr.3fortran.gif"></center>
</div>
</div>
</body>
</HTML>
