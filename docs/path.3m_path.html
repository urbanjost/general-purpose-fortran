<html> 
<head> 
<title> </title>
<style> 
px {font-family: "Lucida Console", Monaco }
p { font-size:100%; line-height:1.1em; }
body {xfont-style: sans-serif}
body {
color:#333; font-family:Verdana, Arial, Helvetica, sans-serif; font-size:1em; line-height:1.3em; }
a:visited { color:#666; }
h1,h2,h3,h4,h5,h6 { color:#333; font-family:georgia, verdana, sans-serif; }
h1 { font-size:150%; page-break-before:auto;background-color: #aaaaff}
h2 { font-size:143%;color:teal; }
h3 { font-size:134%;color:blue; }
h4 { font-size:120%;color:gray; }
img { max-width: 55em}
p{ padding: 0;margin:0; }
p{ padding-right:1.4em; }
p{ padding-bottom:1em; }
p{ padding-top:1em; }
p{ whitespace: pre-wrap; }
h5,h6 { font-size:100% }
a.nav,a:link.nav, a:visited.nav { background-color:#FFF; color:#000; }
XXtable { border:double #000; border-collapse:collapse; }
XXtable { border-collapse:collapse; }
XXtd { border:thin solid #888; }
XXtd { border:none; }
li { margin-bottom:0.5em; }
blockquote { display:block; font-size:100%; line-height:1.1em; margin:0 0 1.5em; padding:0 2.5em; }
pre { background-color:#DDD; font-size:100%; overflow:auto; padding:1em; }
a,li span { color:#000; }
a:hover, a.nav:hover, a:hover math { background-color:#000; color:#FFF; }
#Container { margin:0 10px; text-align:center; background-color: #BBB}
#Content { border-top:none; margin:auto; padding:0.3em; text-align:left; width:100%; max-width:55em; background:#FFF}
span.webName { font-size:.5em; }
textarea#content { font-size: 1em; line-height: 1.125; }
h1#pageName { line-height:1em; margin:0.2em 0 0.2em 0; padding:0; }
.property { color:#666; font-size:100%; }
a.existingWikiWord[title]{ //border: 1px dashed #BBB; }
.byline { color:#666; font-size:1.0em; font-style:italic; margin-bottom:1em; padding-top:1px; } 
</style> 
</head>
<BODY bgcolor=#F0F0F0 text=#000000 link=#0000ff vlink=#C000C0 alink=#ff0000><A NAME=top></A>
<h5><a href="index.html">[UP]</a></h5>
<div id="Container">
<div id="Content">
<CENTER>
<H1><HR><I>Manual Reference Pages &nbsp;-&nbsp;</I><NOBR>path (3)</NOBR><HR></H1>
</CENTER>
<A name=0>

     <H3>NAME</H3>

</A>
<BLOCKQUOTE>
<B>path</B>(3f) - [M_path] OOP interface for a GNU Linux or Unix pathname
(LICENSE:PD)
</BLOCKQUOTE>
<A name=contents></A><H3>CONTENTS</H3></A>
<BLOCKQUOTE>
<A HREF=#1>Synopsis</A><BR>
<A HREF=#2>Description</A><BR>
<A HREF=#3>Options</A><BR>
<A HREF=#4>Returns</A><BR>
<A HREF=#5>Example</A><BR>
<A HREF=#6>Author</A><BR>
<A HREF=#7>License</A><BR>
</BLOCKQUOTE>
<A name=8>

     <H3>SYNOPSIS</H3>

</A>
<BLOCKQUOTE>
<B>type</B> <I>path</I>
<P>
<PRE>
      ! COMPONENTS:
      character(len=:),allocatable :: name
</PRE>
<B>contains</B>
<P>
<PRE>
      ! METHODS:
      procedure    :: branch
      procedure    :: leaf
      procedure    :: stem
      procedure    :: bud
      procedure    :: init
      procedure    :: is_dir
      procedure    :: stat
      procedure    :: readable
      procedure    :: writable
      procedure    :: executable
      procedure    :: exists
      procedure    :: realpath
      procedure    :: splitup
      procedure    :: joinup
<P>
      ! OVERLOADED OPERATORS FOR TYPE(path)
      procedure,private :: eq
      generic           :: operator(==)  =&gt; eq
</PRE>
<B>end</B> <I>type</I> <I>path</I>
</BLOCKQUOTE>
<A name=2>

     <H3>DESCRIPTION</H3>

</A>
<BLOCKQUOTE>
Given a pathname, resolve or expand it into branch/stem.bud and/or
branch/leaf, test for file <I>type</I> and access privileges if file exists,
and return system statistics.
<P>
Assumes directory separator is a slash (&#146;/&#146;) and that filename does not
contain trailing spaces.
<P>
<PRE>
      /branch/leaf
      /branch/stem.bud
<P>
</PRE>
</BLOCKQUOTE>
<A name=3>

     <H3>OPTIONS</H3>

</A>
<BLOCKQUOTE>
<TABLE cellpadding=3>
<TR valign=top><TD colspan=2>
<B>FILENAME</B> </TD></TR><TR valign=top><TD width=6%>&nbsp;</TD><TD>
pathname
</TD></TR>
<TR></TR></TABLE></BLOCKQUOTE>
<A name=4>

     <H3>RETURNS</H3>

</A>
<BLOCKQUOTE>
<TABLE cellpadding=3>
<TR valign=top><TD width=6% nowrap>
<B>%name</B> </TD><TD valign=bottom>
name of file
</TD></TR>
<TR valign=top><TD colspan=2>
<B>%branch()</B> </TD></TR><TR valign=top><TD width=6%>&nbsp;</TD><TD>
Output FILENAME with its last non-slash component and trailing
slashes removed. if FILENAME <B>contains</B> no &#146;/&#146; character, output
"." (meaning the current directory).
</TD></TR>
<TR valign=top><TD width=6% nowrap>
<B>%leaf()</B> </TD><TD valign=bottom>
Output FILENAME with anything up to and including the right-most
slashes removed.
</TD></TR>
<TR valign=top><TD width=6% nowrap>
<B>%stem()</B> </TD><TD valign=bottom>
Output FILENAME leaf with any right-most suffix removed. A suffix
is anything from the rightmost period in the filename leaf to the
<B>end</B> of the pathname.
</TD></TR>
<TR valign=top><TD width=6% nowrap>
<B>%bud()</B> </TD><TD valign=bottom>
Output FILENAME right-most suffix.
</TD></TR>
<TR valign=top><TD colspan=2>
<B>%is_dir()</B> </TD></TR><TR valign=top><TD width=6%>&nbsp;</TD><TD>
a logical specifying if <I>path</I> is currently a directory pathname.
</TD></TR>
<TR valign=top><TD colspan=2>
<B>%exists()</B> </TD></TR><TR valign=top><TD width=6%>&nbsp;</TD><TD>
determine if file exists
</TD></TR>
<TR valign=top><TD colspan=2>
<B>%readable()</B> </TD></TR><TR valign=top><TD width=6%>&nbsp;</TD><TD>
determine if file is readable
</TD></TR>
<TR valign=top><TD colspan=2>
<B>%writable()</B> </TD></TR><TR valign=top><TD width=6%>&nbsp;</TD><TD>
determine if file is writable
</TD></TR>
<TR valign=top><TD colspan=2>
<B>%executable()</B> </TD></TR><TR valign=top><TD width=6%>&nbsp;</TD><TD>
determine if file is executable
</TD></TR>
<TR valign=top><TD width=6% nowrap>
<B>%stat()</B> </TD><TD valign=bottom>
an array of integers describing the current status of the file.
returns the same data array as the <B>SYSTEM_STAT</B>(3f) function with
the difference that the status of the call is element 14.
</TD></TR>
<TR valign=top><TD colspan=2>
<B>%</B><B>realpath</B>() </TD></TR><TR valign=top><TD width=6%>&nbsp;</TD><TD>
resolve the pathname using the Posix C routine <B>realpath</B>(3c)
</TD></TR>
<TR></TR></TABLE></BLOCKQUOTE>
<A name=5>

     <H3>EXAMPLE</H3>

</A>
<BLOCKQUOTE>
Sample program:
<P>
<PRE>
   program demo_path
   use M_path, only   : path
   use M_system, only : system_getpwuid, system_getgrgid
   use M_time,   only : fmtdate, u2d
   use,intrinsic :: iso_fortran_env, only : int8, int16, int32, int64, real32, real64, real128
   character(len=*),parameter               :: fmt_date=&#146;year-month-day hour:minute:second&#146;
   type(path)                               :: file
   character(len=:),allocatable             :: filename
   integer(kind=int64)                      :: buff(14)
   integer                                  :: i
      do i = 1 , max(1,command_argument_count())
       if(command_argument_count().eq.0)then
          filename=&#146;.&#146;
       else
          call getname(i,filename)
       endif
<P>
       file%name=filename
       ! or
       call file%init(filename)
<P>
       write(*,*)&#146;name&#46;&#46;&#46;..... &#146;,file%name
       write(*,*)&#146;branch&#46;&#46;&#46;... &#146;,file%branch()
       write(*,*)&#146;leaf&#46;&#46;&#46;..... &#146;,file%leaf()
       write(*,*)&#146;stem&#46;&#46;&#46;..... &#146;,file%stem()
       write(*,*)&#146;bud&#46;&#46;&#46;...... &#146;,file%bud()
       write(*,*)&#146;is_dir&#46;&#46;&#46;... &#146;,file%is_dir()
       write(*,*)&#146;readable&#46;&#46;&#46;. &#146;,file%readable()
       write(*,*)&#146;writable&#46;&#46;&#46;. &#146;,file%writable()
       write(*,*)&#146;executable.. &#146;,file%executable()
       write(*,*)&#146;exists&#46;&#46;&#46;... &#146;,file%exists()
       write(*,*)&#146;realpath&#46;&#46;&#46;. &#146;,file%realpath()
       write(*,*)&#146;stat&#46;&#46;&#46;..... &#146;
       buff=file%stat()
       if(buff(14) == 0) then
        write (*,"(9x,&#146;Device ID(hex/decimal):&#146;, T40,Z0,&#146;h/&#146;,I0,&#146;d&#146;)")&
        & buff(1),buff(1)
        write (*,"(9x,&#146;Inode number:&#146;, T40, I0)")&
        & buff(2)
        write (*,"(9x,&#146;File mode (octal):&#146;, T40, O19)")&
        & buff(3)
        write (*,"(9x,&#146;Number of links:&#146;, T40, I0)")&
        & buff(4)
        write (*,"(9x,&#146;Owner&#146;&#146;s uid/username:&#146;, T40, I0,1x, A)")&
        & buff(5), system_getpwuid(buff(5))
        write (*,"(9x,&#146;Owner&#146;&#146;s gid/group:&#146;, T40, I0,1x, A)")&
        & buff(6), system_getgrgid(buff(6))
        write (*,"(9x,&#146;Device where located:&#146;, T40, I0)")&
        & buff(7)
        write (*,"(9x,&#146;File size(bytes):&#146;, T40, I0)")&
        & buff(8)
        write (*,"(9x,&#146;Last access time:&#146;, T40, I0,1x, A)")&
        & buff(9), fmtdate(u2d(int(buff(9))),fmt_date)
        write (*,"(9x,&#146;Last modification time:&#146;, T40, I0,1x, A)")&
        & buff(10),fmtdate(u2d(int(buff(10))),fmt_date)
        write (*,"(9x,&#146;Last status change time:&#146;, T40, I0,1x, A)")&
        & buff(11),fmtdate(u2d(int(buff(11))),fmt_date)
        write (*,"(9x,&#146;Preferred block size(bytes):&#146;, T40, I0)")&
        & buff(12)
        write (*,"(9x,&#146;No. of blocks allocated:&#146;, T40, I0)")&
        & buff(13)
       else
        write (*,*) &#146;*path%stat* error: &#146;,file%name,&#146; status= &#146;,status
       endif
       write(*,*)
      enddo
<P>
   contains
   subroutine getname(i,fn)
   integer,intent(in)                       :: i
   character(len=:),allocatable,intent(out) :: fn
   integer                                  :: fn_length
   ! get pathname from command line arguments
      call get_command_argument (i , length=fn_length)
      if(allocated(filename))deallocate(filename)
      allocate(character(len=fn_length) :: fn)
      call get_command_argument (i , value=fn)
   end subroutine getname
   end program demo_path
</PRE>
Results:
<P>
Sample program executions:
<P>
<PRE>
    demo_path $HOME $HOME/.bashrc
<P>
    name&#46;&#46;&#46;..... /home/urbanjs/V600
    branch&#46;&#46;&#46;... /home/urbanjs
    leaf&#46;&#46;&#46;..... V600
    stem&#46;&#46;&#46;..... V600
    bud&#46;&#46;&#46;......
    is_dir&#46;&#46;&#46;...  T
    readable&#46;&#46;&#46;.  T
    writable&#46;&#46;&#46;   T
    executable..  T
    exists&#46;&#46;&#46;...  T
    realpath&#46;&#46;&#46;.  /home/urbanjs/V600
    stat&#46;&#46;&#46;.....
            Device ID(hex/decimal):       3E6BE045h/1047257157d
            Inode number:                 281474977443215
            File mode (octal):                          40700
            Number of links:              1
            Owner&#146;s uid/username:         197609 JSU
            Owner&#146;s gid/group:            197121 None
            Device where located:         0
            File size(bytes):             0
            Last access time:             1559495702 2019-06-02 13:15:02
            Last modification time:       1559495702 2019-06-02 13:15:02
            Last status change time:      1559495702 2019-06-02 13:15:02
            Preferred block size(bytes):  65536
            No. of blocks allocated:      92
<P>
    name&#46;&#46;&#46;..... /home/urbanjs/V600/.bashrc
    branch&#46;&#46;&#46;... /home/urbanjs/V600
    leaf&#46;&#46;&#46;..... .bashrc
    stem&#46;&#46;&#46;..... .bashrc
    bud&#46;&#46;&#46;......
    is_dir&#46;&#46;&#46;...  F
    readable&#46;&#46;&#46;.  T
    writable&#46;&#46;&#46;   T
    executable..  T
    exists&#46;&#46;&#46;...  T
    realpath&#46;&#46;&#46;.  /home/urbanjs/V600/.bashrc
    stat&#46;&#46;&#46;.....
            Device ID(hex/decimal):       3E6BE045h/1047257157d
            Inode number:                 59672695062674129
            File mode (octal):                         100744
            Number of links:              1
            Owner&#146;s uid/username:         197609 JSU
            Owner&#146;s gid/group:            4294967295 Unknown+Group
            Device where located:         0
            File size(bytes):             8744
            Last access time:             1434310665 2015-06-14 15:37:45
            Last modification time:       1533428694 2018-08-04 20:24:54
            Last status change time:      1533428694 2018-08-04 20:24:54
            Preferred block size(bytes):  65536
            No. of blocks allocated:      12
<P>
</PRE>
</BLOCKQUOTE>
<A name=6>

     <H3>AUTHOR</H3>

</A>
<BLOCKQUOTE>
John S. Urban
</BLOCKQUOTE>
<A name=7>

     <H3>LICENSE</H3>

</A>
<BLOCKQUOTE>
Public Domain
</BLOCKQUOTE>
<P><HR>
<TABLE width=100%><TR> <TD width=33%><I></I></TD> <TD width=33% align=center>path (3)</TD> <TD align=right width=33%><I>June 05, 2021</I></TD> </TR></TABLE><FONT SIZE=-1>Generated by <A HREF="http://www.squarebox.co.uk/download/manServer.shtml">manServer 1.08</A> from a51c3062-c588-4f19-97e2-e0a4362e0148 using man macros.</FONT>
<br><br><center><img src="images/path.3m_path.gif"></center>
</div>
</div>
</body>
</HTML>
