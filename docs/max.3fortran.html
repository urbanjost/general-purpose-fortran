<html> 
<head> 
<title> </title>
<style> 
px {font-family: "Lucida Console", Monaco, monospace }
p { font-size:100%; line-height:1.1em; }
body {xfont-style: sans-serif}
body {
color:#333; font-family:Verdana, Arial, Helvetica, sans-serif; font-size:1em; line-height:1.3em; }
a:visited { color:#666; }
h1,h2,h3,h4,h5,h6 { color:#333; font-family:georgia, verdana, sans-serif; }
h1 { font-size:150%; page-break-before:auto;background-color: #aaaaff}
h2 { font-size:143%;color:teal; }
h3 { font-size:134%;color:blue; }
h4 { font-size:120%;color:gray; }
img { max-width: 55em}
p{ padding: 0;margin:0; }
p{ padding-right:1.4em; }
p{ padding-bottom:0.1em; }
p{ padding-top:1em; }
p{ whitespace: pre-wrap; }
h5,h6 { font-size:100% }
a.nav,a:link.nav, a:visited.nav { background-color:#FFF; color:#000; }
XXtable { border:double #000; border-collapse:collapse; }
XXtable { border-collapse:collapse; }
XXtd { border:thin solid #888; }
XXtd { border:none; }
li { margin-bottom:0.5em; }
blockquote { display:block; font-size:100%; line-height:1.1em; margin:0 0 0.5em; padding:0 2.5em; }
pre { background-color:#DDD; font-size:100%; overflow:auto; padding:1em; }
a,li span { color:#000; }
a:hover, a.nav:hover, a:hover math { background-color:#000; color:#FFF; }
#Container { margin:0 10px; text-align:center; background-color: #BBB}
#Content { border-top:none; margin:auto; padding:0.3em; text-align:left; width:100%; max-width:55em; background:#FFF}
span.webName { font-size:.5em; }
textarea#content { font-size: 1em; line-height: 1.125; }
h1#pageName { line-height:1em; margin:0.2em 0 0.2em 0; padding:0; }
.property { color:#666; font-size:100%; }
a.existingWikiWord[title]{ //border: 1px dashed #BBB; }
.byline { color:#666; font-size:1.0em; font-style:italic; margin-bottom:1em; padding-top:1px; } 
</style> 
</head>
<BODY bgcolor=#F0F0F0 text=#000000 link=#0000ff vlink=#C000C0 alink=#ff0000><A NAME=top></A>
<!--
<h5><a href="index.html">[UP]</a></h5>
<button type="button" onclick="javascript:history.back()">Back</button>
-->
<div id="Container">
<div id="Content">
<CENTER>
<H1><HR><I>C Library Functions &nbsp;-&nbsp;</I><NOBR>max (3)</NOBR><HR></H1>
</CENTER>
<P>
<A name=0>

     <H3>NAME</H3>

</A>
<BLOCKQUOTE>
<P>
MAX(3) - [NUMERIC] Maximum value of an argument list
<P>
</BLOCKQUOTE>
<BLOCKQUOTE>
</BLOCKQUOTE>
<A name=9>

     <H3>SYNOPSIS</H3>

</A>
<BLOCKQUOTE>
<P>
result = max(a1, a2, a3, &#46;&#46;&#46;)
<P>
<PRE>
         elemental TYPE(kind=KIND) function max(a1, a2, a3, &#46;&#46;&#46; )
<P>
          TYPE(kind=KIND,intent(in),optional :: a1
          TYPE(kind=KIND,intent(in),optional :: a2
          TYPE(kind=KIND,intent(in),optional :: a3
                    :
                    :
<P>
</PRE>
</BLOCKQUOTE>
<A name=2>

     <H3>CHARACTERISTICS</H3>

</A>
<BLOCKQUOTE>
<P>
<TABLE cellpadding=3>
<TR valign=top><TD width=3%>
o
</TD><TD>
A3, A3, A4, &#46;&#46;&#46; must be of the same type and kind as A1
</TD></TR>
<TR valign=top><TD width=3%>
o
</TD><TD>
the arguments may (all) be integer, real or character
</TD></TR>
<TR valign=top><TD width=3%>
o
</TD><TD>
there must be at least two arguments
</TD></TR>
<TR valign=top><TD width=3%>
o
</TD><TD>
the length of a character result is the length of the longest
argument
</TD></TR>
<TR valign=top><TD width=3%>
o
</TD><TD>
the type and kind of the result is the same as those of the
arguments
</TD></TR>
<TR></TR></TABLE></BLOCKQUOTE>
<A name=3>

     <H3>DESCRIPTION</H3>

</A>
<BLOCKQUOTE>
<P>
MAX(3) returns the argument with the largest (most positive) value.
<P>
For arguments of character type, the result is as if the arguments had
been successively compared with the intrinsic operational operators,
taking into account the collating sequence of the character kind.
<P>
The returned selected character argument is padded with blanks as needed
on the right to the same length of the longest argument.
<P>
It is unusual for a Fortran intrinsic to take an arbitrary number of
options, and in addition MAX(3) is elemental, meaning any number of
arguments may be arrays as long as they are of the same shape.
<P>
The examples contain such cases as examples to clarify the resulting
behavior for those not familiar with calling a "scalar" function
elementally with arrays.
<P>
See maxval(3) for simply getting the max value of an array.
</BLOCKQUOTE>
<A name=4>

     <H3>OPTIONS</H3>

</A>
<BLOCKQUOTE>
<P>
<TABLE cellpadding=3>
<TR valign=top><TD width=3%>
o
</TD><TD>
A1 : The first argument determines the type and kind of the returned
value, and of any remaining arguments as well.
</TD></TR>
<TR valign=top><TD width=3%>
o
</TD><TD>
A2,A3,&#46;&#46;&#46; : the remaining arguments of the set of values to search
for a maximum in.
<P>
: There must be at least two arguments to MAX(3).
</TD></TR>
<TR></TR></TABLE></BLOCKQUOTE>
<A name=5>

     <H3>RESULT</H3>

</A>
<BLOCKQUOTE>
<P>
The return value corresponds to an array of the same shape of any array
argument, or a scalar if all arguments are scalar.
<P>
The returned value when any argument is an array will be an array of the
same shape where each element is the maximum value occurring at that
location, treating all the scalar values as arrays of that same shape
with all elements set to the scalar value.
</BLOCKQUOTE>
<A name=6>

     <H3>EXAMPLES</H3>

</A>
<BLOCKQUOTE>
<P>
Sample program
<P>
<PRE>
    program demo_max
    implicit none
    real :: arr1(4)= [10.0,11.0,30.0,-100.0]
    real :: arr2(5)= [20.0,21.0,32.0,-200.0,2200.0]
    integer :: box(3,4)= reshape([-6,-5,-4,-3,-2,-1,1,2,3,4,5,6],shape(box))
<P>
      ! basic usage
       ! this is simple enough when all arguments are scalar
<P>
       ! the most positive value is returned, not the one with the
       ! largest magnitude
       write(*,*)&#146;scalars:&#146;,max(10.0,11.0,30.0,-100.0)
       write(*,*)&#146;scalars:&#146;,max(-22222.0,-0.0001)
<P>
       ! strings do not need to be of the same length
       write(*,*)&#146;characters:&#146;,max(&#146;the&#146;,&#146;words&#146;,&#146;order&#146;)
<P>
       ! leading spaces are significant; everyone is padded on the right
       ! to the length of the longest argument
       write(*,*)&#146;characters:&#146;,max(&#146;c&#146;,&#146;bb&#146;,&#146;a&#146;)
       write(*,*)&#146;characters:&#146;,max(&#146; c&#146;,&#146;b&#146;,&#146;a&#146;)
<P>
      ! elemental
       ! there must be at least two arguments, so even if A1 is an array
       ! max(A1) is not valid. See MAXVAL(3) and/or MAXLOC(3) instead.
<P>
       ! strings in a single array do need to be of the same length
       ! but the different objects can still be of different lengths.
       write(*,"(*(&#146;""&#146;,a,&#146;""&#146;:,1x))")MAX([&#146;A&#146;,&#146;Z&#146;],[&#146;BB&#146;,&#146;Y &#146;])
       ! note the result is now an array with the max of every element
       ! position, as can be illustrated numerically as well:
       write(*,&#146;(a,*(i3,1x))&#146;)&#146;box=   &#146;,box
       write(*,&#146;(a,*(i3,1x))&#146;)&#146;box**2=&#146;,sign(1,box)*box**2
       write(*,&#146;(a,*(i3,1x))&#146;)&#146;max    &#146;,max(box,sign(1,box)*box**2)
<P>
       ! Remember if any argument is an array by the definition of an
       ! elemental function all the array arguments must be the same shape.
<P>
       ! to find the single largest value of multiple arrays you could
       ! use something like
       !    MAXVAL([arr1, arr2])
       ! or probably better (more likely to avoid creating a large temp array)
       !    max(maxval(arr1),maxval(arr2))
       ! instead
<P>
       ! so this returns an array of the same shape as any input array
       ! where each result is the maximum that occurs at that position.
       write(*,*)max(arr1,arr2(1:4))
       ! this returns an array just like BOX  except all values less than
       ! zero are set to zero:
       write(*,*)max(box,0)
       ! When mixing arrays and scalars you can think of the scalars
       ! as being a copy of one of the arrays with all values set to
       ! the scalar value.
<P>
    end program demo_max
<P>
</PRE>
Results:
<P>
<PRE>
     &gt;   scalars:   30.00000
     &gt;   scalars: -9.9999997E-05
     &gt;   characters:words
     &gt;   characters:c
     &gt;   characters:b
     &gt;  "BB" "Z "
     &gt;  box=    -6  -5  -4  -3  -2  -1   1   2   3   4   5   6
     &gt;  box**2=-36 -25 -16  -9  -4  -1   1   4   9  16  25  36
     &gt;  max     -6  -5  -4  -3  -2  -1   1   4   9  16  25  36
     &gt;  20.00000  21.00000  32.00000  -100.0000
     &gt;  0  0  0  0  0  0
     &gt;  1  2  3  4  5  6
<P>
</PRE>
</BLOCKQUOTE>
<A name=7>

     <H3>STANDARD</H3>

</A>
<BLOCKQUOTE>
<P>
FORTRAN 77
</BLOCKQUOTE>
<A name=8>

     <H3>SEE ALSO</H3>

</A>
<BLOCKQUOTE>
<P>
MAXLOC(3), MINLOC(3), MAXVAL(3), MINVAL(3), MIN(3)
<P>
Fortran intrinsic descriptions (license: MIT) @urbanjost
</BLOCKQUOTE>
<P><HR>
<TABLE width=100%><TR> <TD width=33%><I>Nemo Release 3.1</I></TD> <TD width=33% align=center>max (3)</TD> <TD align=right width=33%><I>November 24, 2024</I></TD> </TR></TABLE><FONT SIZE=-1>Generated by <A HREF="http://www.squarebox.co.uk/download/manServer.shtml">manServer 1.08</A> from 4160aeb7-69cf-4873-b89a-69efb4e14442 using man macros.</FONT>
<br><br><center><img src="images/max.3fortran.gif"></center>
</div>
</div>
</body>
</HTML>
