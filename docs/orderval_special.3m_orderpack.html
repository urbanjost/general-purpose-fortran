<html> 
<head> 
<title> </title>
<style> 
px {font-family: "Lucida Console", Monaco, monospace }
p { font-size:100%; line-height:1.1em; }
body {xfont-style: sans-serif}
body {
color:#333; font-family:Verdana, Arial, Helvetica, sans-serif; font-size:1em; line-height:1.3em; }
a:visited { color:#666; }
h1,h2,h3,h4,h5,h6 { color:#333; font-family:georgia, verdana, sans-serif; }
h1 { font-size:150%; page-break-before:auto;background-color: #aaaaff}
h2 { font-size:143%;color:teal; }
h3 { font-size:134%;color:blue; }
h4 { font-size:120%;color:gray; }
img { max-width: 55em}
p{ padding: 0;margin:0; }
p{ padding-right:1.4em; }
p{ padding-bottom:0.1em; }
p{ padding-top:1em; }
p{ whitespace: pre-wrap; }
h5,h6 { font-size:100% }
a.nav,a:link.nav, a:visited.nav { background-color:#FFF; color:#000; }
XXtable { border:double #000; border-collapse:collapse; }
XXtable { border-collapse:collapse; }
XXtd { border:thin solid #888; }
XXtd { border:none; }
li { margin-bottom:0.5em; }
blockquote { display:block; font-size:100%; line-height:1.1em; margin:0 0 0.5em; padding:0 2.5em; }
pre { background-color:#DDD; font-size:100%; overflow:auto; padding:1em; }
a,li span { color:#000; }
a:hover, a.nav:hover, a:hover math { background-color:#000; color:#FFF; }
#Container { margin:0 10px; text-align:center; background-color: #BBB}
#Content { border-top:none; margin:auto; padding:0.3em; text-align:left; width:100%; max-width:55em; background:#FFF}
span.webName { font-size:.5em; }
textarea#content { font-size: 1em; line-height: 1.125; }
h1#pageName { line-height:1em; margin:0.2em 0 0.2em 0; padding:0; }
.property { color:#666; font-size:100%; }
a.existingWikiWord[title]{ //border: 1px dashed #BBB; }
.byline { color:#666; font-size:1.0em; font-style:italic; margin-bottom:1em; padding-top:1px; } 
</style> 
</head>
<BODY bgcolor=#F0F0F0 text=#000000 link=#0000ff vlink=#C000C0 alink=#ff0000><A NAME=top></A>
<!--
<h5><a href="index.html">[UP]</a></h5>
<button type="button" onclick="javascript:history.back()">Back</button>
-->
<div id="Container">
<div id="Content">
<CENTER>
<H1><HR><I>C Library Functions &nbsp;-&nbsp;</I><NOBR>orderval_special (3)</NOBR><HR></H1>
</CENTER>
<A name=0>

     <H3>NAME</H3>

</A>
<BLOCKQUOTE>
orderval_special(3f) - [M_orderpack:FRACTILE] Return VALUE of Nth
ordered element of array (InsertSort-like)
<P>
</BLOCKQUOTE>
<A name=contents></A><H3>CONTENTS</H3></A>
<BLOCKQUOTE>
<A HREF=#1>Synopsis</A><BR>
<A HREF=#2>Description</A><BR>
<A HREF=#3>Options</A><BR>
<A HREF=#4>Returns</A><BR>
<A HREF=#5>Examples</A><BR>
<A HREF=#6>See Also</A><BR>
<A HREF=#7>Author</A><BR>
<A HREF=#8>Maintainer</A><BR>
<A HREF=#9>License</A><BR>
</BLOCKQUOTE>
<A name=10>

     <H3>SYNOPSIS</H3>

</A>
<BLOCKQUOTE>
Function Orderval_Special (INVALS, INORD)
<P>
<PRE>
     ${TYPE} (Kind=${KIND}), Intent (In) :: INVALS(:)
     Integer, Intent (In)                :: INORD
     ${TYPE} (Kind=${KIND})              :: orderval_special
<P>
</PRE>
Where ${TYPE}(kind=${KIND}) may be
</BLOCKQUOTE>
<TABLE cellpadding=3><!-- tsb: Where ${TYPE}(kind=${KIND}) may be
 -->
<TR></TR><TR></TR>
<TR valign=top><TD width=3%>
o
</TD><TD>
Real(kind=real32)
<TABLE width=100% cellpadding=3><!-- tsb: Real(kind=real32)
 -->
<TR></TR><TR></TR>
<TR valign=top><TD width=3%>
o
</TD><TD>
Real(kind=real64)
</TD></TR>
<TR valign=top><TD width=3%>
o
</TD><TD>
Integer(kind=int32)
</TD></TR>
<TR></TR></TABLE></TD></TR>
<TR></TR></TABLE><A name=2>

     <H3>DESCRIPTION</H3>

</A>
<BLOCKQUOTE>
ORDERVAL_SPECIAL(3f) returns the INORDth lowest value of INVALS(),
i.e. the fractile of order INORD/SIZE(INVALS).
<P>
Internally, This subroutine uses an insertion sort, limiting insertion
to the first INORD values and even less when one can know that the
value that is considered will not be the INORDth.
<P>
An insertion sort is very fast when INORD is very small
(2-5). Additionally, internally it requires only a work array of size
INORD (and type of INVALS),
<P>
But worst case behavior can happen fairly probably (e.g., initially
inverse sorted). Therefore, in many cases, the refined Quick-Sort
method is faster.
<P>
so ORDERVAL_SPECIAL(3f) should be used when INORD is small and INVALS
is likely to be a random array, otherwise consider using ORDERLOC(3f)
or ORDERVAL(3f).
</BLOCKQUOTE>
<A name=3>

     <H3>OPTIONS</H3>

</A>
<BLOCKQUOTE>
<TABLE cellpadding=3>
<TR valign=top><TD width=6% nowrap>
<B>INVALS</B> </TD><TD valign=bottom>
input array of values
</TD></TR>
<TR valign=top><TD width=6% nowrap>
<B>INORD</B> </TD><TD valign=bottom>
specify Nth value of sorted INVALS array to
return, from 1 to size(INVALS).
</TD></TR>
<TR></TR></TABLE></BLOCKQUOTE>
<A name=4>

     <H3>RETURNS</H3>

</A>
<BLOCKQUOTE>
<TABLE cellpadding=3>
<TR valign=top><TD colspan=2>
<B>ORDERVAL_SPECIAL</B> </TD></TR><TR valign=top><TD width=6%>&nbsp;</TD><TD>
returned value
</TD></TR>
<TR></TR></TABLE></BLOCKQUOTE>
<A name=5>

     <H3>EXAMPLES</H3>

</A>
<BLOCKQUOTE>
Sample program:
<P>
<PRE>
   program demo_orderval_special
   ! return Nth ordered value of an array
   use M_orderpack, only : orderval_special, medianval
   implicit none
   character(len=*),parameter :: list= &#146;(*(g0:,", "))&#146;,sp=&#146;(*(g0,1x))&#146;
   integer,allocatable :: iarr(:)
   integer :: i
      iarr=[80,70,30,40,-50,60,20,10]
      print sp, &#146;ORIGINAL:&#146;,iarr
      ! can return the same values as intrinsics minval(3f) and maxval(3f)
      print sp, &#146;minval&#146;,orderval_special(iarr,1),          minval(iarr)
      print sp, &#146;maxval&#146;,orderval_special(iarr,size(iarr)), maxval(iarr)
      ! but more generally it can return the Nth lowest value.
      print sp, &#146;median&#146;,orderval_special(iarr,(size(iarr+1))/2), &
      & medianval(iarr)
      ! so only Nth ordered value can be found
      print sp,&#146;inord=&#146;,3, &#146; fractile=&#146;,orderval_special(iarr,3)
      ! sorting the hard way
      print sp, &#146;ORIGINAL:&#146;,iarr
      do i=1,size(iarr)
         write(*,list)i,orderval_special(iarr,i)
      enddo
      print *
   end program demo_orderval_special
<P>
</PRE>
Results:
<P>
<PRE>
   ORIGINAL: 80 70 30 40 -50 60 20 10
   minval -50 -50
   maxval 80 80
   median 30 30
   inord= 3  fractile= 20
   ORIGINAL: 80 70 30 40 -50 60 20 10
   1, -50
   2, 10
   3, 20
   4, 30
   5, 40
   6, 60
   7, 70
   8, 80
<P>
</PRE>
</BLOCKQUOTE>
<A name=6>

     <H3>SEE ALSO</H3>

</A>
<BLOCKQUOTE>
<P>
ORDERLOC(3f), ORDERVAL(3f)
</BLOCKQUOTE>
<A name=7>

     <H3>AUTHOR</H3>

</A>
<BLOCKQUOTE>
Michel Olagnon - Aug. 2000
</BLOCKQUOTE>
<A name=8>

     <H3>MAINTAINER</H3>

</A>
<BLOCKQUOTE>
John Urban, 2022.04.16
</BLOCKQUOTE>
<A name=9>

     <H3>LICENSE</H3>

</A>
<BLOCKQUOTE>
CC0-1.0
</BLOCKQUOTE>
<P><HR>
<TABLE width=100%><TR> <TD width=33%><I>Nemo Release 3.1</I></TD> <TD width=33% align=center>orderval_special (3)</TD> <TD align=right width=33%><I>September 01, 2024</I></TD> </TR></TABLE><FONT SIZE=-1>Generated by <A HREF="http://www.squarebox.co.uk/download/manServer.shtml">manServer 1.08</A> from a9878beb-d4fd-4b03-a463-608828a7b57d using man macros.</FONT>
<br><br><center><img src="images/orderval_special.3m_orderpack.gif"></center>
</div>
</div>
</body>
</HTML>
