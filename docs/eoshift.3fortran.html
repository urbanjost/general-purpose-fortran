<html> 
<head> 
<title> </title>
<style> 
px {font-family: "Lucida Console", Monaco, monospace }
p { font-size:100%; line-height:1.1em; }
body {xfont-style: sans-serif}
body {
color:#333; font-family:Verdana, Arial, Helvetica, sans-serif; font-size:1em; line-height:1.3em; }
a:visited { color:#666; }
h1,h2,h3,h4,h5,h6 { color:#333; font-family:georgia, verdana, sans-serif; }
h1 { font-size:150%; page-break-before:auto;background-color: #aaaaff}
h2 { font-size:143%;color:teal; }
h3 { font-size:134%;color:blue; }
h4 { font-size:120%;color:gray; }
img { max-width: 55em}
p{ padding: 0;margin:0; }
p{ padding-right:1.4em; }
p{ padding-bottom:0.1em; }
p{ padding-top:1em; }
p{ whitespace: pre-wrap; }
h5,h6 { font-size:100% }
a.nav,a:link.nav, a:visited.nav { background-color:#FFF; color:#000; }
XXtable { border:double #000; border-collapse:collapse; }
XXtable { border-collapse:collapse; }
XXtd { border:thin solid #888; }
XXtd { border:none; }
li { margin-bottom:0.5em; }
blockquote { display:block; font-size:100%; line-height:1.1em; margin:0 0 0.5em; padding:0 2.5em; }
pre { background-color:#DDD; font-size:100%; overflow:auto; padding:1em; }
a,li span { color:#000; }
a:hover, a.nav:hover, a:hover math { background-color:#000; color:#FFF; }
#Container { margin:0 10px; text-align:center; background-color: #BBB}
#Content { border-top:none; margin:auto; padding:0.3em; text-align:left; width:100%; max-width:55em; background:#FFF}
span.webName { font-size:.5em; }
textarea#content { font-size: 1em; line-height: 1.125; }
h1#pageName { line-height:1em; margin:0.2em 0 0.2em 0; padding:0; }
.property { color:#666; font-size:100%; }
a.existingWikiWord[title]{ //border: 1px dashed #BBB; }
.byline { color:#666; font-size:1.0em; font-style:italic; margin-bottom:1em; padding-top:1px; } 
</style> 
</head>
<BODY bgcolor=#F0F0F0 text=#000000 link=#0000ff vlink=#C000C0 alink=#ff0000><A NAME=top></A>
<!--
<h5><a href="index.html">[UP]</a></h5>
<button type="button" onclick="javascript:history.back()">Back</button>
-->
<div id="Container">
<div id="Content">
<CENTER>
<H1><HR><I>C Library Functions &nbsp;-&nbsp;</I><NOBR>eoshift (3)</NOBR><HR></H1>
</CENTER>
<P>
<A name=0>

     <H3>NAME</H3>

</A>
<BLOCKQUOTE>
<P>
EOSHIFT(3) - [ARRAY:TRANSFORMATIONAL] End-off shift of elements of an
array
<P>
</BLOCKQUOTE>
<BLOCKQUOTE>
</BLOCKQUOTE>
<A name=9>

     <H3>SYNOPSIS</H3>

</A>
<BLOCKQUOTE>
<P>
result = eoshift( array, shift [,boundary] [,dim] )
<P>
<PRE>
       type(TYPE(kind=KIND)) function eoshift(array,shift,boundary,dim)
<P>
        type(TYPE(kind=KIND)),intent(in) :: array(..)
        integer(kind=**),intent(in)      :: shift(..)
        type(TYPE(kind=KIND)),intent(in) :: boundary(..)
        integer(kind=**),intent(in)      :: dim
<P>
</PRE>
</BLOCKQUOTE>
<A name=2>

     <H3>CHARACTERISTICS</H3>

</A>
<BLOCKQUOTE>
<P>
<TABLE cellpadding=3>
<TR valign=top><TD width=3%>
o
</TD><TD>
ARRAY an array of any type
</TD></TR>
<TR valign=top><TD width=3%>
o
</TD><TD>
SHIFT is an integer of any kind. It may be a scalar. If the rank of
ARRAY is greater than one, and DIM is specified it is the same shape
as ARRAY reduced by removing dimension DIM.
</TD></TR>
<TR valign=top><TD width=3%>
o
</TD><TD>
BOUNDARY May be a scalar of the same type and kind as ARRAY. It must
be a scalar when ARRAY has a rank of one. Otherwise, it may be an
array of the same shape as ARRAY reduced by dimension DIM. It may
only be absent for certain types, as described below.
</TD></TR>
<TR valign=top><TD width=3%>
o
</TD><TD>
DIM is an integer of any kind. It defaults to one.
</TD></TR>
<TR valign=top><TD width=3%>
o
</TD><TD>
the result has the same type, type parameters, and shape as ARRAY.
</TD></TR>
<TR valign=top><TD width=3%>
o
</TD><TD>
a kind designated as ** may be any supported kind for the type
</TD></TR>
<TR valign=top><TD width=3%>
o
</TD><TD>
The result is an array of same type, kind and rank as the ARRAY
argument.
</TD></TR>
<TR></TR></TABLE></BLOCKQUOTE>
<A name=3>

     <H3>DESCRIPTION</H3>

</A>
<BLOCKQUOTE>
<P>
EOSHIFT(3) performs an end-off shift on elements of ARRAY along the
dimension of DIM.
<P>
Elements shifted out one end of each rank one section are dropped.
<P>
If BOUNDARY is present then the corresponding value from BOUNDARY is
copied back in the other end, else default values are used.
</BLOCKQUOTE>
<A name=4>

     <H3>OPTIONS</H3>

</A>
<BLOCKQUOTE>
<P>
<TABLE cellpadding=3>
<TR valign=top><TD width=3%>
o
</TD><TD>
ARRAY : array of any type whose elements are to be shifted. If the
rank of ARRAY is one, then all elements of ARRAY are shifted by
SHIFT places. If rank is greater than one, then all complete rank
one sections of ARRAY along the given dimension are shifted.
</TD></TR>
<TR valign=top><TD width=3%>
o
</TD><TD>
SHIFT : the number of elements to shift. A negative value shifts to
the right, a positive value to the left of the vector(s) being
shifted.
</TD></TR>
<TR valign=top><TD width=3%>
o
</TD><TD>
BOUNDARY : the value to use to fill in the elements vacated by the
shift. If BOUNDARY is not present then the following are copied in
depending on the type of ARRAY.
</TD></TR>
<TR></TR></TABLE><!-- .nf -->
<PRE>
        Array Type    | Boundary Value
        -----------------------------------------------------
        Numeric       | 0, 0.0, or (0.0, 0.0) of the type and kind of "array"
        Logical       | .false.
        Character(len)|  LEN blanks
<P>
</PRE>
These are the only types for which BOUNDARY may not be present. For
these types the kind is converted as neccessary to the kind of ARRAY.
<TABLE cellpadding=3><!-- tsb: These are the only types for which BOUNDARY may not be present. For
 -->
<TR></TR><TR></TR>
<TR valign=top><TD width=3%>
o
</TD><TD>
DIM : DIM is in the range of
<P>
1 &lt;= DIM &lt;= n
</TD></TR>
<TR></TR></TABLE>where "N" is the rank of ARRAY. If DIM is omitted it is taken to be 1.
</BLOCKQUOTE>
<A name=5>

     <H3>RESULT</H3>

</A>
<BLOCKQUOTE>
<P>
Returns an array of the same characteristics as the input with the
specified number of elements dropped off along the specified direction
indicated, backfilling the vacated elements with a value indicated by
the BOUNDARY value.
</BLOCKQUOTE>
<A name=6>

     <H3>EXAMPLES</H3>

</A>
<BLOCKQUOTE>
<P>
Sample program:
<P>
<PRE>
    program demo_eoshift
    implicit none
    integer, dimension(3,3) :: a
    integer :: i
<P>
       write(*,*)&#146;original&#146;
       a = reshape( [ 1, 2, 3, 4, 5, 6, 7, 8, 9 ], [ 3, 3 ])
       call printi(a)
<P>
       write(*,*)&#146;shift each row differently&#146;
       a = eoshift(a, SHIFT=[1, 2, -2], BOUNDARY=-5, DIM=2)
       call printi(a)
<P>
       write(*,*)&#146;shift each column differently&#146;
       a = eoshift(a, SHIFT=[1, 2, -2], BOUNDARY=-5, DIM=1)
       call printi(a)
<P>
       write(*,*)&#146;original&#146;
       call printi(reshape([(i,i=1,12)],[3,4]))
       write(*,&#146;(*(g0))&#146;)&#146;shift=+2,dim=1&#146;
       call printi(eoshift(reshape([(i,i=1,12)],[3,4]),+2,dim=1))
       write(*,&#146;(*(g0))&#146;)&#146;shift=+2,dim=2&#146;
       call printi(eoshift(reshape([(i,i=1,12)],[3,4]),+2,dim=2))
       write(*,&#146;(*(g0))&#146;)&#146;shift=-2,dim=1&#146;
       call printi(eoshift(reshape([(i,i=1,12)],[3,4]),-2,dim=1))
       write(*,&#146;(*(g0))&#146;)&#146;shift=-2,dim=2&#146;
       call printi(eoshift(reshape([(i,i=1,12)],[3,4]),-2,dim=2))
    contains
    subroutine printi(arr)
    !@(#) print small 2d integer arrays in row-column format
    integer,intent(in) :: arr(:,:)
    integer            :: i
    character(len=40)  :: biggest
       write(biggest,&#146;(*(g0))&#146;)&#146;(1x,*(i&#146;,                   &
       & ceiling(log10(max(1.0,real(maxval(abs(arr))))))+2, &
       & &#146;:,","))&#146;
       do i=1,size(arr,dim=1)
          write(*,fmt=biggest)arr(i,:)
       enddo
    end subroutine printi
<P>
    end program demo_eoshift
<P>
</PRE>
Results:
<P>
<PRE>
     &gt;  original
     &gt;    1,  4,  7
     &gt;    2,  5,  8
     &gt;    3,  6,  9
     &gt;  shift each row differently
     &gt;    4,  7, -5
     &gt;    8, -5, -5
     &gt;   -5, -5,  3
     &gt;  shift each column differently
     &gt;    8, -5, -5
     &gt;   -5, -5, -5
     &gt;   -5, -5, -5
     &gt;  original
     &gt;     1,   4,   7,  10
     &gt;     2,   5,   8,  11
     &gt;     3,   6,   9,  12
     &gt; shift=+2,dim=1
     &gt;     3,   6,   9,  12
     &gt;     0,   0,   0,   0
     &gt;     0,   0,   0,   0
     &gt; shift=+2,dim=2
     &gt;     7,  10,   0,   0
     &gt;     8,  11,   0,   0
     &gt;     9,  12,   0,   0
     &gt; shift=-2,dim=1
     &gt;    0,  0,  0,  0
     &gt;    0,  0,  0,  0
     &gt;    1,  4,  7, 10
     &gt; shift=-2,dim=2
     &gt;    0,  0,  1,  4
     &gt;    0,  0,  2,  5
     &gt;    0,  0,  3,  6
<P>
</PRE>
</BLOCKQUOTE>
<A name=7>

     <H3>STANDARD</H3>

</A>
<BLOCKQUOTE>
<P>
Fortran 95
</BLOCKQUOTE>
<A name=8>

     <H3>SEE ALSO</H3>

</A>
<BLOCKQUOTE>
<P>
DSHIFTR(3), DSHIFTL(3)
<P>
Fortran intrinsic descriptions (license: MIT) @urbanjost
</BLOCKQUOTE>
<P><HR>
<TABLE width=100%><TR> <TD width=33%><I>Nemo Release 3.1</I></TD> <TD width=33% align=center>eoshift (3)</TD> <TD align=right width=33%><I>February 23, 2025</I></TD> </TR></TABLE><FONT SIZE=-1>Generated by <A HREF="http://www.squarebox.co.uk/download/manServer.shtml">manServer 1.08</A> from 57165da4-4358-4e37-a346-cc1699459e8c using man macros.</FONT>
<br><br><center><img src="images/eoshift.3fortran.gif"></center>
</div>
</div>
</body>
</HTML>
