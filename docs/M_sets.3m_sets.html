<html> 
<head> 
<title> </title>
<style> 
px {font-family: "Lucida Console", Monaco, monospace }
p { font-size:100%; line-height:1.1em; }
body {xfont-style: sans-serif}
body {
color:#333; font-family:Verdana, Arial, Helvetica, sans-serif; font-size:1em; line-height:1.3em; }
a:visited { color:#666; }
h1,h2,h3,h4,h5,h6 { color:#333; font-family:georgia, verdana, sans-serif; }
h1 { font-size:150%; page-break-before:auto;background-color: #aaaaff}
h2 { font-size:143%;color:teal; }
h3 { font-size:134%;color:blue; }
h4 { font-size:120%;color:gray; }
img { max-width: 55em}
p{ padding: 0;margin:0; }
p{ padding-right:1.4em; }
p{ padding-bottom:0.1em; }
p{ padding-top:1em; }
p{ whitespace: pre-wrap; }
h5,h6 { font-size:100% }
a.nav,a:link.nav, a:visited.nav { background-color:#FFF; color:#000; }
XXtable { border:double #000; border-collapse:collapse; }
XXtable { border-collapse:collapse; }
XXtd { border:thin solid #888; }
XXtd { border:none; }
li { margin-bottom:0.5em; }
blockquote { display:block; font-size:100%; line-height:1.1em; margin:0 0 0.5em; padding:0 2.5em; }
pre { background-color:#DDD; font-size:100%; overflow:auto; padding:1em; }
a,li span { color:#000; }
a:hover, a.nav:hover, a:hover math { background-color:#000; color:#FFF; }
#Container { margin:0 10px; text-align:center; background-color: #BBB}
#Content { border-top:none; margin:auto; padding:0.3em; text-align:left; width:100%; max-width:55em; background:#FFF}
span.webName { font-size:.5em; }
textarea#content { font-size: 1em; line-height: 1.125; }
h1#pageName { line-height:1em; margin:0.2em 0 0.2em 0; padding:0; }
.property { color:#666; font-size:100%; }
a.existingWikiWord[title]{ //border: 1px dashed #BBB; }
.byline { color:#666; font-size:1.0em; font-style:italic; margin-bottom:1em; padding-top:1px; } 
</style> 
</head>
<BODY bgcolor=#F0F0F0 text=#000000 link=#0000ff vlink=#C000C0 alink=#ff0000><A NAME=top></A>
<!--
<h5><a href="index.html">[UP]</a></h5>
<button type="button" onclick="javascript:history.back()">Back</button>
-->
<div id="Container">
<div id="Content">
<CENTER>
<H1><HR><I>C Library Functions &nbsp;-&nbsp;</I><NOBR>M_sets (3)</NOBR><HR></H1>
</CENTER>
<A name=0>

     <H3>NAME</H3>

</A>
<BLOCKQUOTE>
M_sets(3f) - [M_sets::INTRO] functions reminiscent of Matlab set
functions
<P>
</BLOCKQUOTE>
<A name=contents></A><H3>CONTENTS</H3></A>
<BLOCKQUOTE>
<A HREF=#1>Synopsis</A><BR>
<A HREF=#2>Description</A><BR>
<A HREF=#3>Examples</A><BR>
<A HREF=#4>Authors</A><BR>
<A HREF=#5>License</A><BR>
</BLOCKQUOTE>
<A name=6>

     <H3>SYNOPSIS</H3>

</A>
<BLOCKQUOTE>
Procedure names and syntax:
<P>
<PRE>
    use M_sets, only : &
    union, unique, intersect, setdiff, ismember, setxor
    use M_sets, only : &
    issorted, bool
<P>
</PRE>
</BLOCKQUOTE>
<A name=2>

     <H3>DESCRIPTION</H3>

</A>
<BLOCKQUOTE>
<P>
Set operations compare the elements in two sets to find commonalities
or differences. This includes Unions, Intersections, and Membership.
<P>
M_set(3f) is a Fortran module comprising a small subset of set theory
functions reminiscent of Matlab functions.
<P>
The functions currently support vectors of integer, default character,
and default real and doubleprecision type.
<P>
float numbers (both kind=real32 and kind=real64) are allowed but "caveat
emptor", as comparing floats for equality has issues. You may have to
condition the float data by converting it to scaled integers or using
intrinsics such as NEAREST(3f) to produce the desired results.
<P>
M_set(3f) primarily uses simple calls to the M_orderpack(3f) module to
provide the functionality. The functions are not otherwise tuned for
performance and make loose use of memory allocation but are sufficient
for most uses, simple to use, and familiar to a large base of users.
<P>
## Functions
<BLOCKQUOTE>
<TABLE cellpadding=3><!-- tsb: ## Functions
 -->
<TR></TR><TR></TR>
<TR valign=top><TD width=3%>
o
</TD><TD>
union(A,B,setOrder) - Join two sets and remove duplicates of values
</TD></TR>
<TR valign=top><TD width=3%>
o
</TD><TD>
unique(A,setOrder) - Remove duplicates of values from a set
</TD></TR>
<TR valign=top><TD width=3%>
o
</TD><TD>
intersect(A,B,setOrder) - Find the values common to both A and B
</TD></TR>
<TR valign=top><TD width=3%>
o
</TD><TD>
setdiff(A,B,setOrder) - Find the values in A that are not in B
</TD></TR>
<TR valign=top><TD width=3%>
o
</TD><TD>
ismember(A,B,setOrder) - Create a mask of A marking elements also in B
</TD></TR>
<TR valign=top><TD width=3%>
o
</TD><TD>
setxor(A,B,setOrder) - Find values of A and B not in both arrays
</TD></TR>
<TR valign=top><TD width=3%>
o
</TD><TD>
issorted(A) - Determine if array is already sorted
</TD></TR>
<TR valign=top><TD width=3%>
o
</TD><TD>
bool(expr) - 1 if logical expression is true, 0 if false.
</TD></TR>
<TR></TR></TABLE>The subsequent data may be produced sorted, or left in the order
encountered.
</BLOCKQUOTE>
</BLOCKQUOTE>
<A name=3>

     <H3>EXAMPLES</H3>

</A>
<BLOCKQUOTE>
<P>
sample program:
<P>
<PRE>
   program demo_M_sets
   use M_sets, only: &
   & unique, intersect, union, setdiff, ismember, setxor, issorted, bool
   character(len=*),parameter :: all=&#146;(*(g0,1x))&#146;
   character(len=*),parameter :: nl=new_line(&#146;A&#146;)
   integer, allocatable      :: A(:)
   integer, allocatable      :: B(:)
   integer, allocatable      :: C(:)
<P>
      A = [10, -10, 0, 1, 2, 3, 3, 2, 1, -10]
      !
      print all                                                   ,nl, &
      &#146;UNIQUE&#146;,&#146;Find the unique elements of vector A.&#146;            ,nl, &
      &#146;A=&#146;, A                                                     ,nl, &
      &#146;sorted=&#146;,unique(A)                                         ,nl, &
      &#146;stable=&#146;,unique(A, setOrder=&#146;stable&#146;)
<P>
      A=[5, 7, 1]
      B=[3, 1, 1]
      !
      print all                                                   ,nl, &
      &#146;UNION&#146;, &#146;Find the union of vectors A and B.&#146;               ,nl, &
      &#146;A=&#146;, A                                                     ,nl, &
      &#146;B=&#146;, B                                                     ,nl, &
      &#146;sorted=&#146;,union(A, B, &#146;sorted&#146;)                             ,nl, &
      &#146;stable=&#146;,union(A, B, &#146;stable&#146;)
<P>
      A=[7, 1, 7, 7, 4]
      B=[7, 0, 4, 4, 0]
      !
      print all                                                   ,nl, &
      &#146;INTERSECT&#146;, &#146;Find the values common to both A and B.&#146;      ,nl, &
      &#146;A=&#146;, A                                                     ,nl, &
      &#146;B=&#146;, B                                                     ,nl, &
      &#146;sorted=&#146;,intersect(A, B)                                   ,nl, &
      &#146;stable=&#146;,intersect(A, B, setOrder=&#146;stable&#146;)
<P>
      A=[3, 6, 2, 1, 5, 1, 1]
      B=[2, 4, 6]
      !
      print all                                                   ,nl, &
      &#146;SETDIFF&#146;,&#146;Find the values in A that are not in B.&#146;         ,nl, &
      &#146;A=&#146;, A                                                     ,nl, &
      &#146;B=&#146;, B                                                     ,nl, &
      &#146;sorted=&#146;,setdiff(A, B, &#146;sorted&#146;)                           ,nl, &
      &#146;stable=&#146;,setdiff(A, B, &#146;stable&#146;)
<P>
      A=[5,3,4,2]
      B=[2,4,4,4,6,8]
      !
      print all                                                   ,nl, &
      &#146;ISMEMBER&#146;,&#146;Determine which elements of A are also in B.&#146;   ,nl, &
      &#146;A=&#146;, A                                                     ,nl, &
      &#146;B=&#146;, B                                                     ,nl, &
      &#146;in A and B=&#146;,ismember(A,B)
<P>
      A=[5,1,3,3,3]
      B=[4,1,2]
      !
      print all                                                   ,nl, &
      &#146;SETXOR&#146;                                                       , &
      &#146;Find values of A and B not in their intersection.&#146;         ,nl, &
      &#146;A=&#146;, A                                                     ,nl, &
      &#146;B=&#146;, B                                                     ,nl, &
      &#146;sorted=&#146;,setxor(A,B)                                       ,nl, &
      &#146;stable=&#146;,setxor(A,B,&#146;stable&#146;)
<P>
      A=[1,2,3,4,5]
      B=[5,4,3,2,1]
      !
      print all                                                   ,nl, &
      &#146;ISSSORTED&#146;                                                    , &
      &#146;confirm whether array is sorted in ascending order or not&#146; ,nl, &
      &#146;A=&#146;, A                                                     ,nl, &
      &#146;B=&#146;, B                                                     ,nl, &
      &#146;is A sorted?&#146;,issorted(A)                                  ,nl, &
      &#146;is B sorted?&#146;,issorted(B)
<P>
      A=[1,2,3,4,5]
      B=[5,2,3,4,1]
      !
      print all                                                   ,nl, &
      &#146;BOOL&#146;                                                         , &
      &#146;if logical expression is true, 0 if false.&#146;                ,nl, &
      &#146;A=&#146;, A                                                     ,nl, &
      &#146;B=&#146;, B                                                     ,nl, &
      &#146;is A(i) = B(i) ?&#146;,bool(A==B)                               ,nl, &
      &#146;how many elements are the same?&#146;,sum(bool(A==B))
<P>
   end program demo_M_sets
<P>
</PRE>
Results:
<P>
<PRE>
 &gt;
 &gt;  UNIQUE Find the unique elements of vector A.
 &gt;  A= 10 -10 0 1 2 3 3 2 1 -10
 &gt;  sorted= -10 0 1 2 3 10
 &gt;  stable= 10 -10 0 1 2 3
 &gt;
 &gt;  UNION Find the union of vectors A and B.
 &gt;  A= 5 7 1
 &gt;  B= 3 1 1
 &gt;  sorted= 1 3 5 7
 &gt;  stable= 5 7 1 3
 &gt;
 &gt;  INTERSECT Find the values common to both A and B.
 &gt;  A= 7 1 7 7 4
 &gt;  B= 7 0 4 4 0
 &gt;  sorted= 4 7
 &gt;  stable= 7 4
 &gt;
 &gt;  SETDIFF Find the values in A that are not in B.
 &gt;  A= 3 6 2 1 5 1 1
 &gt;  B= 2 4 6
 &gt;  sorted= 1 3 5
 &gt;  stable= 3 1 5
 &gt;
 &gt;  ISMEMBER Determine which elements of A are also in B.
 &gt;  A= 5 3 4 2
 &gt;  B= 2 4 4 4 6 8
 &gt;  in A and B= 0 0 1 1
 &gt;
 &gt;  SETXOR Find values of A and B not in their intersection.
 &gt;  A= 5 1 3 3 3
 &gt;  B= 4 1 2
 &gt;  sorted= 2 3 4 5
 &gt;  stable= 5 3 4 2
 &gt;
 &gt;  ISSSORTED confirm whether array is sorted in ascending order or not
 &gt;  A= 1 2 3 4 5
 &gt;  B= 5 4 3 2 1
 &gt;  is A sorted? 1
 &gt;  is B sorted? 0
 &gt;
 &gt;  BOOL if logical expression is true, 0 if false.
 &gt;  A= 1 2 3 4 5
 &gt;  B= 5 2 3 4 1
 &gt;  is A(i) = B(i) ? 0 1 1 1 0
 &gt;  how many elements are the same? 3
<P>
</PRE>
</BLOCKQUOTE>
<A name=4>

     <H3>AUTHORS</H3>

</A>
<BLOCKQUOTE>
John S. Urban, 2023-07-20
</BLOCKQUOTE>
<A name=5>

     <H3>LICENSE</H3>

</A>
<BLOCKQUOTE>
CC0-1.0
</BLOCKQUOTE>
<P><HR>
<TABLE width=100%><TR> <TD width=33%><I>Nemo Release 3.1</I></TD> <TD width=33% align=center>M_sets (3)</TD> <TD align=right width=33%><I>February 23, 2025</I></TD> </TR></TABLE><FONT SIZE=-1>Generated by <A HREF="http://www.squarebox.co.uk/download/manServer.shtml">manServer 1.08</A> from 95749c90-5ae2-4499-97ae-e61333e98ec8 using man macros.</FONT>
<br><br><center><img src="images/M_sets.3m_sets.gif"></center>
</div>
</div>
</body>
</HTML>
