<html> 
<head> 
<title> </title>
<style> 
px {font-family: "Lucida Console", Monaco, monospace }
p { font-size:100%; line-height:1.1em; }
body {xfont-style: sans-serif}
body {
color:#333; font-family:Verdana, Arial, Helvetica, sans-serif; font-size:1em; line-height:1.3em; }
a:visited { color:#666; }
h1,h2,h3,h4,h5,h6 { color:#333; font-family:georgia, verdana, sans-serif; }
h1 { font-size:150%; page-break-before:auto;background-color: #aaaaff}
h2 { font-size:143%;color:teal; }
h3 { font-size:134%;color:blue; }
h4 { font-size:120%;color:gray; }
img { max-width: 55em}
p{ padding: 0;margin:0; }
p{ padding-right:1.4em; }
p{ padding-bottom:0.1em; }
p{ padding-top:1em; }
p{ whitespace: pre-wrap; }
h5,h6 { font-size:100% }
a.nav,a:link.nav, a:visited.nav { background-color:#FFF; color:#000; }
XXtable { border:double #000; border-collapse:collapse; }
XXtable { border-collapse:collapse; }
XXtd { border:thin solid #888; }
XXtd { border:none; }
li { margin-bottom:0.5em; }
blockquote { display:block; font-size:100%; line-height:1.1em; margin:0 0 0.5em; padding:0 2.5em; }
pre { background-color:#DDD; font-size:100%; overflow:auto; padding:1em; }
a,li span { color:#000; }
a:hover, a.nav:hover, a:hover math { background-color:#000; color:#FFF; }
#Container { margin:0 10px; text-align:center; background-color: #BBB}
#Content { border-top:none; margin:auto; padding:0.3em; text-align:left; width:100%; max-width:55em; background:#FFF}
span.webName { font-size:.5em; }
textarea#content { font-size: 1em; line-height: 1.125; }
h1#pageName { line-height:1em; margin:0.2em 0 0.2em 0; padding:0; }
.property { color:#666; font-size:100%; }
a.existingWikiWord[title]{ //border: 1px dashed #BBB; }
.byline { color:#666; font-size:1.0em; font-style:italic; margin-bottom:1em; padding-top:1px; } 
</style> 
</head>
<BODY bgcolor=#F0F0F0 text=#000000 link=#0000ff vlink=#C000C0 alink=#ff0000><A NAME=top></A>
<!--
<h5><a href="index.html">[UP]</a></h5>
<button type="button" onclick="javascript:history.back()">Back</button>
-->
<div id="Container">
<div id="Content">
<CENTER>
<H1><HR><I>C Library Functions &nbsp;-&nbsp;</I><NOBR>abs (3)</NOBR><HR></H1>
</CENTER>
<P>
<A name=0>

     <H3>NAME</H3>

</A>
<BLOCKQUOTE>
<P>
ABS(3) - [NUMERIC] Absolute value
<P>
</BLOCKQUOTE>
<BLOCKQUOTE>
</BLOCKQUOTE>
<A name=9>

     <H3>SYNOPSIS</H3>

</A>
<BLOCKQUOTE>
<P>
result = abs(a)
<P>
<PRE>
         elemental TYPE(kind=KIND) function abs(a)
<P>
          TYPE(kind=KIND),intent(in) :: a
<P>
</PRE>
</BLOCKQUOTE>
<A name=2>

     <H3>CHARACTERISTICS</H3>

</A>
<BLOCKQUOTE>
<P>
<TABLE cellpadding=3>
<TR valign=top><TD width=3%>
o
</TD><TD>
A may be any real, integer, or complex value.
</TD></TR>
<TR valign=top><TD width=3%>
o
</TD><TD>
If A is complex the returned value will be a real with the same kind
as A.
<P>
Otherwise the returned type and kind is the same as for A.
</TD></TR>
<TR></TR></TABLE></BLOCKQUOTE>
<A name=3>

     <H3>DESCRIPTION</H3>

</A>
<BLOCKQUOTE>
<P>
ABS(3) computes the absolute value of numeric argument A.
<P>
In mathematics, the absolute value or modulus of a real number X,
denoted |X|, is the magnitude of X without regard to its sign.
<P>
The absolute value of a number may be thought of as its distance from
zero. So for a complex value the absolute value is a real number with
magnitude SQRT(X%RE**2,X%IM**2), as if the real component is the x value
and the imaginary value is the y value for the point &lt;x,y&gt;.
</BLOCKQUOTE>
<A name=4>

     <H3>OPTIONS</H3>

</A>
<BLOCKQUOTE>
<P>
<TABLE cellpadding=3>
<TR valign=top><TD width=3%>
o
</TD><TD>
A : The value to compute the absolute value of.
</TD></TR>
<TR></TR></TABLE></BLOCKQUOTE>
<A name=5>

     <H3>RESULT</H3>

</A>
<BLOCKQUOTE>
<P>
If A is of type integer or real, the value of the result is the absolute
value |A| and of the same type and kind as the input argument.
<P>
If A is complex with value (X, Y), the result is a real equal to a
processor-dependent approximation to
<P>
<PRE>
            sqrt(x**2 + y**2)
<P>
</PRE>
computed without undue overflow or underflow (that means the computation
of the result can overflow the allowed magnitude of the real value
returned, and that very small values can produce underflows if they are
squared while calculating the returned value, for example).
<P>
That is, if you think of non-complex values as being complex values on
the x-axis and complex values as being x-y points &lt;x%re,x%im&gt; the result
of ABS(3) is the (positive) magnitude of the distance of the value from
the origin.
</BLOCKQUOTE>
<A name=6>

     <H3>EXAMPLES</H3>

</A>
<BLOCKQUOTE>
<P>
Sample program:
<P>
<PRE>
    program demo_abs
       implicit none
       integer,parameter :: dp=kind(0.0d0)
<P>
    ! some values to use with ABS(3)
       integer           :: i = -1
       real              :: x = -1.0
       complex           :: z = (-3.0,-4.0)
       doubleprecision   :: rr = -45.78_dp
<P>
    ! some formats for pretty-printing some information
       character(len=*),parameter :: &
          frmt  =  &#146;(1x,a15,1x," In: ",g0,            T51," Out: ",g0)&#146;, &
          frmtc = &#146;(1x,a15,1x," In: (",g0,",",g0,")",T51," Out: ",g0)&#146;,  &
          gen   = &#146;(*(g0,1x))&#146;
<P>
       ! the basics
       print gen,  &#146;basic usage:&#146;
       ! any integer, real, or complex type
       write(*, frmt)  &#146;integer         &#146;,  i, abs(i)
       write(*, frmt)  &#146;real            &#146;,  x, abs(x)
       write(*, frmt)  &#146;doubleprecision &#146;, rr, abs(rr)
       write(*, frmtc) &#146;complex         &#146;,  z, abs(z)
<P>
       ! elemental
       print gen, &#146;abs is elemental:&#146;, abs([20,  0,  -1,  -3,  100])
<P>
       ! the returned value for complex input can be thought of as the
       ! distance from the origin &lt;0,0&gt;
       print gen, &#146;distance of (&#146;, z, &#146;) from zero is&#146;, abs( z )
<P>
       call DUSTY_CORNERS_1("beware of abs(-huge(0)-1)")
       call DUSTY_CORNERS_2("beware of losing precision using CMPLX(3)")
       call DUSTY_CORNERS_3("beware of overflow of complex values")
       call DUSTY_CORNERS_4("custom meaning for absolute value of COMPLEX")
<P>
    contains
<P>
       subroutine DUSTY_CORNERS_1(message)
          character(len=*),intent(in) :: message
<P>
          ! A dusty corner is that abs(-huge(0)-1) of an integer would be
          ! a representable negative value on most machines but result in a
          ! positive value out of range.
<P>
          print gen,  message
          ! By definition:
          !   You can take the absolute value of any value whose POSITIVE value
          !   is representable with the same type and kind.
<P>
          print gen, &#146;abs range test : &#146;, abs(huge(0)), abs(-huge(0))
          print gen, &#146;abs range test : &#146;, abs(huge(0.0)), abs(-huge(0.0))
          print gen, &#146;abs range test : &#146;, abs(tiny(0.0)), abs(-tiny(0.0))
<P>
       end subroutine DUSTY_CORNERS_1
<P>
       subroutine DUSTY_CORNERS_2(message)
          character(len=*),intent(in) :: message
<P>
          ! dusty corner: "kind=dp" is required or the value returned by
          ! CMPLX() is a default real instead of double precision.
<P>
          ! Working with complex values you often encounter the CMPLX(3)
          ! function. CMPLX(3) defaults to returning a default REAL regardless
          ! of input type. Not really a direct problem with ABS(2f) per-se,
          ! but a common error when working with doubleprecision complex values
<P>
          print gen,  message
          print gen, &#146;real result versus doubleprecision result&#146;, &
          & abs(cmplx(30.0_dp,40.0_dp)), &
          & abs(cmplx(30.0_dp,40.0_dp,kind=dp))
<P>
       end subroutine DUSTY_CORNERS_2
<P>
       subroutine DUSTY_CORNERS_3(message)
          character(len=*),intent(in) :: message
          print gen, message
<P>
          ! this will probably cause an overflow error, or
          !print gen,  abs(cmplx( huge(0.0), huge(0.0) ))
<P>
          print gen, &#146;because the biggest default real is&#146;,huge(0.0)
          print gen, &#146;because returning magnitude of sqrt(x%re**2,x%im**2)&#146;
<P>
       end subroutine DUSTY_CORNERS_3
<P>
       subroutine DUSTY_CORNERS_4(message)
          character(len=*),intent(in) :: message
          print gen, message
<P>
          ! if you do not want the distance for a complex value you
          ! might want something like returning a complex value with
          ! both the imaginary and real parts. One way to do that is
<P>
          print gen, cmplx(abs(z%re),abs(z%im),kind=kind(z))
<P>
       end subroutine DUSTY_CORNERS_4
<P>
    end program demo_abs
<P>
</PRE>
Results:
<P>
<PRE>
     &gt;  integer          In: -1                        Out: 1
     &gt;  real             In: -1.00000000               Out: 1.00000000
     &gt;  doubleprecision  In: -45.780000000000001       Out: 45.780000000000001
     &gt;  complex          In: (-3.00000000,-4.00000000) Out: 5.00000000
     &gt; abs is elemental: 20 0 1 3 100
     &gt; distance of ( -3.00000000 -4.00000000 ) from zero is 5.00000000
     &gt; beware of abs(-huge(0)-1)
     &gt; abs range test :  2147483647 2147483647
     &gt; abs range test :  0.340282347E+39 0.340282347E+39
     &gt; abs range test :  0.117549435E-37 0.117549435E-37
     &gt; beware of losing precision using CMPLX(3)
     &gt; real result versus doubleprecision result 50.0000000 50.000000000000000
     &gt; beware of overflow of complex values
     &gt; because the biggest default real is 0.340282347E+39
     &gt; because returning magnitude of sqrt(x%re**2,x%im**2)
     &gt; making your own meaning for ABS(COMPLEX_VALUE)
     &gt; 3.00000000 4.00000000
<P>
</PRE>
</BLOCKQUOTE>
<A name=7>

     <H3>STANDARD</H3>

</A>
<BLOCKQUOTE>
<P>
FORTRAN 77
</BLOCKQUOTE>
<A name=8>

     <H3>SEE ALSO</H3>

</A>
<BLOCKQUOTE>
<P>
SIGN(3)
<P>
Fortran intrinsic descriptions (license: MIT) @urbanjost
</BLOCKQUOTE>
<P><HR>
<TABLE width=100%><TR> <TD width=33%><I>Nemo Release 3.1</I></TD> <TD width=33% align=center>abs (3)</TD> <TD align=right width=33%><I>February 23, 2025</I></TD> </TR></TABLE><FONT SIZE=-1>Generated by <A HREF="http://www.squarebox.co.uk/download/manServer.shtml">manServer 1.08</A> from abce4e9e-5305-4a9b-9b35-d9aef7b77bb1 using man macros.</FONT>
<br><br><center><img src="images/abs.3fortran.gif"></center>
</div>
</div>
</body>
</HTML>
